<!--
    Copyright Â© 2016-2017, RWTH Aachen University
    Authors: Richard Marston

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    A copy of the GNU General Public License is in the LICENSE file
    in the top level directory of this source tree.
-->
<!DOCTYPE HTML>
<html>
    <head>
        <title>Pintura</title>
    </head>
    <body id="body">
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"/>
        <link rel="stylesheet" href="css/svg.css"/>
        <link rel="stylesheet" href="css/layout.css"/>
        <div id="menu" class="w3-bar w3-black">
            <input type="file" id="fileinput" style="display:none" multiple/>
            <a href="#" class="w3-button" type="file" id="upload-file" onclick="javascript:fileinput.click()">Open File</a>
            <a href="#" class="w3-button" type="file" id="upload-file" onclick="javascript:fileinput.click()">Export File</a>
        </div>
        <div id="middle">
            <div id="sidebar" class="w3-blue-grey">
                <button onclick="javascript:showContainer('diagrams', null)" class="w3-btn w3-block w3-grey">Diagrams</button>
                <div id="diagrams" class="w3-container" style="display:none">
                </div>
                <button onclick="javascript:showContainer('pintura-data-sidebar', null);showContainer('cim-xml-sidebar', null, 'true');"
                        class="w3-button w3-grey">Pintura Data</button>
                <button onclick="javascript:showContainer('cim-xml-sidebar', null);showContainer('pintura-data-sidebar', null, 'true');"
                        class="w3-button w3-grey">Raw XML</button>
                <button
                        onclick="javascript:showContainer('search', 'cim-xml-drop');"
                        class="row w3-button w3-grey">
                    <span style="flex-grow: 1">All Components</span>
                    <span style="flex-grow: 1" id="cim-xml-drop">&nbsp;&crarr;</span></button>
                <div id="search" class="w3-container">
                    <div class="row">
                        <input size="10"
                            type="text"
                            oninput="cimmenu.searchSidebar(this.value)" >
                        </input>
                        <label class="w3-label w3-button" id="searchSidebar">&#x2315;</label>
                    </div>
                    <div id="componentAccordion" ></div>
                </div>
            </div>          <!-- end of sidebar div -->
            <div id="main" class="w3-light-grey">
                <svg
                    id="svg"
                    width="1024"
                    height="768"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink" >
                    <rect id="backing"/>
                    <g id="grid"/>
                    <g id="diagram-elements"/>
                </svg>
                <div class="w3-container data-panel" id="pintura-data-sidebar" style="display:none">
                    <label class="w3-bar-item w3-large w3-button data-panel-label">Pintura JSON</label>
                    <button class="w3-bar-item w3-button data-panel-button" onclick="showContainer('pintura-data-sidebar')">Close &times;</button>
                    <textarea class="data-panel-text" id="pintura-data-text"></textarea>
                </div>
                <div class="w3-container data-panel" id="cim-xml-sidebar" style="display:none">
                    <label class="w3-bar-item w3-large w3-button">Raw XML</label>
                    <button class="w3-bar-item w3-button data-panel-button" onclick="showContainer('cim-xml-sidebar')">Close &#x21b4; &uarr;</button>
                        <input class="data-search-input"
                               id="cim-xml-search"
                               type="text" onkeyup="if (event.keyCode == 13) doSearch('cim-xml-search', 'cim-xml-textarea');">
                        </input>
                    <textarea class="data-panel-text" id="cim-xml-textarea"></textarea>
                </div>
                <script type="text/javascript" src="index.js"> </script>
                <script type="text/javascript" src="handlebars.runtime.js"></script>
                <script type="text/javascript" src="cimsvg.js"></script>
                <script type="text/javascript" src="cimmenu.js"></script>
                <script type="text/javascript">
                    cimsvg.init(document.getElementById("svg"));
                    cimsvg.addSidebar(document.getElementById("sidebar"));
                    cimsvg.addRawXML(document.getElementById("cim-xml-sidebar"));
                    cimsvg.addPinturaData(document.getElementById("pintura-data-sidebar"));
                    document.getElementById("fileinput").addEventListener('change', readFile, false);
                </script>
            </div>          <!-- end of main svg div -->
        </div>              <!-- end of middle div -->
    </body>
</html>
